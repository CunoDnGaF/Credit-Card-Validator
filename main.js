!function(){"use strict";new class{constructor(t){this.number=t.querySelector(".card-number"),this.button=t.querySelector(".card-button"),this.icons=t.querySelectorAll(".icon"),this.paymentSystem=""}startWidget(){this.cardIconActivator(),this.cardValidator()}cardValidator(){this.button.addEventListener("click",(()=>{(function(t,e){let i=t.split(""),r=[],n=0;if("visa"===e&&13===i.length||"visa"===e&&16===i.length||"mastercard"===e&&16===i.length||"discover"===e&&16===i.length||"american-express"===e&&15===i.length||"diners"===e&&14===i.length||"jcb"===e&&15===i.length||"jcb"===e&&16===i.length||"jcb"===e&&19===i.length||"mir"===e&&16<=i.length<=19){for(let t=i.length-1;t>=0;t--)r.push(Number(i[t]));let t=r.shift();for(let t=0;t<r.length;t+=2){let e=2*r[t];e<9&&(r[t]=e),e>9&&(r[t]=e-9)}if(r.forEach((t=>n+=t)),10-n%10===t)return!0;throw new Error("Карта не существует")}throw new Error("Некорректная длина номера для вашей платёжной системы")})(this.number.value,this.paymentSystem)&&alert("Карта существует, ваша платёжная система "+this.paymentSystem)}))}cardIconActivator(){this.number.addEventListener("input",(()=>{let t=function(t){let e,i=t.split("");return["34","37"].includes(String(i[0]+i[1]))&&(e="american-express"),["51","52","53","54","55"].includes(String(i[0]+i[1]))&&(e="mastercard"),"4"===i[0]&&(e="visa"),["36","38"].includes(String(i[0]+i[1]))&&(e="diners"),"65"!==String(i[0]+i[1])&&"6011"!==String(i[0]+i[1]+i[2]+i[3])||(e="discover"),"2"===i[0]&&(e="mir"),"35"===String(i[0]+i[1])&&(e="jcb"),e}(this.number.value);this.paymentSystem=t;for(let e=0;e<this.icons.length;e++)this.icons[e].classList.contains(t)?this.icons[e].classList.add("active"):this.icons[e].classList.remove("active")}))}}(document).startWidget()}();